"use strict";(self.webpackChunkplantacerium=self.webpackChunkplantacerium||[]).push([["835"],{3051:function(e,s,n){n.r(s),n.d(s,{default:()=>o});var r=n(5893),a=n(65);function i(e){let s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.h1,{id:"guide-to-using-ast-grep",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#guide-to-using-ast-grep",children:"#"}),"Guide to Using AST Grep"]}),"\n",(0,r.jsxs)(s.h2,{id:"introduction",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#introduction",children:"#"}),"Introduction"]}),"\n",(0,r.jsx)(s.p,{children:"ast-grep is a powerful, command-line tool for searching and rewriting code based on its abstract syntax tree (AST). This allows for more precise and powerful code modifications than traditional text-based search and replace tools."}),"\n",(0,r.jsx)(s.p,{children:"This guide provides an overview of ast-grep and how to use it in a production environment, covering common, real-world, and edge use cases."}),"\n",(0,r.jsxs)(s.h2,{id:"key-concepts",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#key-concepts",children:"#"}),"Key Concepts"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Abstract Syntax Tree (AST): An AST is a tree representation of the syntactic structure of source code. ast-grep uses ASTs to understand the code's structure, rather than just treating it as plain text."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Patterns: You can write patterns that look like the code you want to find. These patterns can include wildcards to match different parts of the code."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Rewriting: ast-grep can rewrite code by replacing the matched patterns with a new code structure."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h2,{id:"installation",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#installation",children:"#"}),"Installation"]}),"\n",(0,r.jsx)(s.p,{children:"You can install ast-grep using various package managers:"}),"\n",(0,r.jsxs)(s.h1,{id:"using-npm",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#using-npm",children:"#"}),"Using npm"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-bash",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npm"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" install"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -g"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" @ast-grep/cli"})]})})})}),"\n",(0,r.jsxs)(s.h1,{id:"using-pip",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#using-pip",children:"#"}),"Using pip"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-bash",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"pip"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" install"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" ast-grep-cli"})]})})})}),"\n",(0,r.jsxs)(s.h1,{id:"using-homebrew",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#using-homebrew",children:"#"}),"Using Homebrew"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-bash",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"brew"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" install"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" ast-grep"})]})})})}),"\n",(0,r.jsxs)(s.h2,{id:"real-world-use-cases",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#real-world-use-cases",children:"#"}),"Real-World Use Cases"]}),"\n",(0,r.jsx)(s.p,{children:"Here are some real-world examples of how ast-grep can be used in a production environment:"}),"\n",(0,r.jsxs)(s.h3,{id:"1-large-scale-refactoring",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#1-large-scale-refactoring",children:"#"}),"1. Large-Scale Refactoring"]}),"\n",(0,r.jsx)(s.p,{children:"When a library or API changes, you often need to update your entire codebase. ast-grep can automate this process."}),"\n",(0,r.jsx)(s.p,{children:"Scenario: You are upgrading a testing library and need to replace the old assertion style with a new one."}),"\n",(0,r.jsx)(s.p,{children:"Old code:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-javascript",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"assert"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".equal"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(actual"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" expected);"})]})})})}),"\n",(0,r.jsx)(s.p,{children:"New code:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-javascript",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"expect"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(actual)"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".toEqual"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(expected);"})]})})})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"ast-grep"})," command:"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-bash",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"sg"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -p"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'assert.equal($A, $B)'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -r"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'expect($A).toEqual($B)'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -l"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" js"})]})})})}),"\n",(0,r.jsxs)(s.h3,{id:"2-enforcing-code-standards",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#2-enforcing-code-standards",children:"#"}),"2. Enforcing Code Standards"]}),"\n",(0,r.jsx)(s.p,{children:"You can use ast-grep to enforce coding standards and best practices across your organization."}),"\n",(0,r.jsx)(s.p,{children:"Scenario: You want to ensure that all fetch calls have a timeout and appropriate error handling."}),"\n",(0,r.jsxs)(s.p,{children:["Pattern to find ",(0,r.jsx)(s.code,{children:"fetch"})," calls without a ",(0,r.jsx)(s.code,{children:"timeout"}),":"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(s.code,{className:"language-yaml",children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# rules/no-fetch-without-timeout.yml"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"id"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" no-fetch-without-timeout"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"language"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" JavaScript"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"rule"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  pattern"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" fetch($URL)"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  not"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"    has"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"      pattern"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" fetch($URL, { timeout"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" $T })"})]})]})})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"ast-grep"})," command to lint:"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-bash",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"sg"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" scan"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -r"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" rules/no-fetch-without-timeout.yml"})]})})})}),"\n",(0,r.jsxs)(s.h3,{id:"3-security-vulnerability-patching",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#3-security-vulnerability-patching",children:"#"}),"3. Security Vulnerability Patching"]}),"\n",(0,r.jsx)(s.p,{children:"ast-grep can be used to find and patch security vulnerabilities at scale."}),"\n",(0,r.jsx)(s.p,{children:"Scenario: A security vulnerability is discovered in a commonly used function, and you need to replace it with a safer alternative."}),"\n",(0,r.jsx)(s.p,{children:"Vulnerable code:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-javascript",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" html"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" unsafeFunction"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(userInput);"})]})})})}),"\n",(0,r.jsx)(s.p,{children:"Patched code:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-javascript",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" html"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" safeFunction"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(userInput);"})]})})})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"ast-grep"})," command:"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-bash",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"sg"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -p"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'unsafeFunction($ARG)'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -r"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'safeFunction($ARG)'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -l"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" js"})]})})})}),"\n",(0,r.jsxs)(s.h2,{id:"common-use-cases",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#common-use-cases",children:"#"}),"Common Use Cases"]}),"\n",(0,r.jsx)(s.p,{children:"Here are some common use cases for ast-grep:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"API Migration: When a framework or library that you use updates its API, you can use ast-grep to automatically update your code."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Code Cleanup: Remove deprecated functions, unused variables, and other code smells."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Boilerplate Generation: Automate the creation of boilerplate code for new components or modules."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h2,{id:"edge-use-cases",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#edge-use-cases",children:"#"}),"Edge Use Cases"]}),"\n",(0,r.jsx)(s.p,{children:"Here are some advanced and less-common use cases for ast-grep:"}),"\n",(0,r.jsxs)(s.h3,{id:"1-analyzing-code-for-complex-patterns",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#1-analyzing-code-for-complex-patterns",children:"#"}),"1. Analyzing Code for Complex Patterns"]}),"\n",(0,r.jsx)(s.p,{children:"You can use ast-grep to find complex code patterns that might be difficult to express with other tools."}),"\n",(0,r.jsx)(s.p,{children:"Scenario: Find all functions that are called with a specific argument and then immediately awaited."}),"\n",(0,r.jsx)(s.p,{children:"Pattern:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-bash",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"sg"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -p"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'await $FN($ARG)'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -l"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" js"})]})})})}),"\n",(0,r.jsxs)(s.h3,{id:"2-multi-language-support",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#2-multi-language-support",children:"#"}),"2. Multi-language Support"]}),"\n",(0,r.jsx)(s.p,{children:"ast-grep is a polyglot tool and it can be used on a variety of different programming languages."}),"\n",(0,r.jsx)(s.p,{children:"Scenario: Rewrite Python f-strings to use the str.format() method."}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"ast-grep"})," command:"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-bash",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"sg"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -p"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'f\"Hello, {$NAME}\"'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -r"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '\"Hello, {}\".format($NAME)'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -l"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" py"})]})})})}),"\n",(0,r.jsxs)(s.h3,{id:"3-custom",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#3-custom",children:"#"}),"3. Custom"]}),"\n",(0,r.jsx)(s.p,{children:"Linting Rules"}),"\n",(0,r.jsx)(s.p,{children:"You can create your own custom linting rules to enforce project-specific conventions."}),"\n",(0,r.jsx)(s.p,{children:"Scenario: Ensure that all database queries are made through a specific helper function."}),"\n",(0,r.jsx)(s.p,{children:"Pattern to find direct database queries:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(s.code,{className:"language-yaml",children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# rules/no-direct-db-queries.yml"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"id"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" no-direct-db-queries"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"language"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" Python"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"rule"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  pattern"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" db.execute($QUERY)"})]})]})})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"ast-grep"})," command:"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-bash",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"sg"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" scan"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -r"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" rules/no-direct-db-queries.yml"})]})})})}),"\n",(0,r.jsxs)(s.h2,{id:"conclusion",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#conclusion",children:"#"}),"Conclusion"]}),"\n",(0,r.jsx)(s.p,{children:"ast-grep is a versatile and powerful tool that can significantly improve your workflow for code maintenance, refactoring, and analysis. By understanding its core concepts and exploring its various use cases, you can leverage ast-grep to write cleaner, safer, and more consistent code."})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,a.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["blog-software-engineer%2FBackend%2Fast-grep.md"]={toc:[{id:"introduction",text:"Introduction",depth:2},{id:"key-concepts",text:"Key Concepts",depth:2},{id:"installation",text:"Installation",depth:2},{id:"real-world-use-cases",text:"Real-World Use Cases",depth:2},{id:"1-large-scale-refactoring",text:"1. Large-Scale Refactoring",depth:3},{id:"2-enforcing-code-standards",text:"2. Enforcing Code Standards",depth:3},{id:"3-security-vulnerability-patching",text:"3. Security Vulnerability Patching",depth:3},{id:"common-use-cases",text:"Common Use Cases",depth:2},{id:"edge-use-cases",text:"Edge Use Cases",depth:2},{id:"1-analyzing-code-for-complex-patterns",text:"1. Analyzing Code for Complex Patterns",depth:3},{id:"2-multi-language-support",text:"2. Multi-language Support",depth:3},{id:"3-custom",text:"3. Custom",depth:3},{id:"conclusion",text:"Conclusion",depth:2}],title:"AST Grep",headingTitle:"Guide to Using AST Grep",frontmatter:{title:"AST Grep"}}}}]);